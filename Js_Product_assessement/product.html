<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../Bootstrap/assets/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/d48236184a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <title>Product</title>
    <style>
        .div-for-img {
            height: 5.5cm !important;
            width: 100%;
        }
        .back-prod{
            border: 2px solid #ff5b5b !important;
            background: #ff5b5b;
            color: black;
            
        }
        .back-prod:hover{
            background: #ffcdcd;
            color: rgb(5, 5, 5);

        }
    </style>
</head>

<body style="background: #ff5b5b; ">
    <section>
        <div class="container">
            <div class="row m-1 ">
                <div class="col-lg-3"></div>
                <div class="col-lg-6 center div-border mb-5 p-0 " id="productView"
                    style="background: #ffcdcd; box-shadow: 0px 0px 9px 0px black;">
                    <div class="p-0 m-0 div-for-img">
                        <img src="./img/no_img.jpg" id="prodImg" alt="" style="width: 100%; height: 100%;">
                        <div class="dots">
                            <div class="round-img bg-danger mx-1"></div>
                            <div class="round-img bg-secondary"></div>
                            <div class="round-img bg-secondary mx-1"></div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <div class="text-center  mx-sm-3 mx-xl-5 my-3 py-2 px-2">
                            <h2 id="newProdTitle" class="text-break">Hello </h2>
                            <p id="newProdDesc" class="text-break px-3">Lorem ipsum dolor sit amet consectetur
                                adipisicing Enim reiciendis, ab blanditiis maiores ut architecto, assumenda tempora
                                libero distinctio quo temporibus obcaecati. Vero at eos natus voluptas, facilis
                                voluptatibus similique?</p>


                            <div class="input-group mb-3 mx-auto" style="width:150px">
                                <div class="input-group-prepend">
                                    <button class="input-group-text bg-success text-light" id="btnMinus"><i
                                            class="fa fa-minus" onclick="minus()" disabled></i></button>
                                </div>
                                <input type="tel" class="form-control text-center" id="prodCount" value="1">
                                <div class="input-group-append">
                                    <button class="input-group-text bg-success text-light" id="btnPlus"
                                        onclick="plus()"><i class="fa fa-plus"></i></button>
                                </div>
                            </div>

                        </div>
                        <div  style="height: 121px;" >
                            <div class="row font-weight-bold" style="margin: 0 20px;">
                                <div class="col-5 text-center">
                                    <div>
                                        <p class="cost" id="price"></p>
                                    </div>

                                </div>
                                <div class=" col-7 text-center">
                                    <a href="cart.html" class="addCart font-weight-bold" onclick="addToCart()">ADD TO CART</a>
                                    <!-- <button class="addCart font-weight-bold" onclick="addToCart()">Add to cart</button> -->
                                </div>
                               
                                

                            </div>
                            <div class="text-center"
                            style="display: flex; align-items: center; justify-content: center;">
                            <a href="index.html" class="btn btn-primary back-prod"> <svg
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                    fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z">
                                    </path>
                                </svg> Back</a>
                        </div>

                        </div>


                    </div>



                </div>
                <div class="col-lg-3"></div>
            </div>
        </div>
    </section>


    <script src="../Bootstrap/assets/js/jquery.slim.min.js"></script>
    <script src="../Bootstrap/assets/js/bootstrap.bundle.min.js"></script>

</body>

</html>

<script>
    var limit = localStorage.getItem('productLimit')
    var price = localStorage.getItem('productPrice')
    var currentPrice = price;
    function getInfo() {

        var limit = localStorage.getItem('productLimit')
        console.log(limit);
        document.getElementById('newProdTitle').innerHTML = localStorage.getItem('productTitle')
        document.getElementById('newProdDesc').innerHTML = localStorage.getItem('productDesc')
        document.getElementById('price').innerHTML = localStorage.getItem('productPrice')

        document.getElementById('prodCount').value = 1;
        const imageDisplay = document.getElementById('prodImg');
        const imageData = localStorage.getItem('imageData')
        if (imageData) {
            imageDisplay.src = imageData;
        } else {
            imageDisplay.src = './img/no_img.jpg'; // Set a default image if there's no saved image data.
        }
    }
    getInfo()

    function plus() {
        var count = parseInt(document.getElementById('prodCount').value);
        if (count < limit) {

            document.getElementById('prodCount').value = ++count;
            currentPrice = count * price
            document.getElementById('price').innerHTML = currentPrice;
        }
    }
    function minus() {
        var count = parseInt(document.getElementById('prodCount').value);
        if (count > 1) {
            document.getElementById('prodCount').value = --count;
            currentPrice = currentPrice - price
            document.getElementById('price').innerHTML = currentPrice;
        }
    }

    function addToCart() {
        console.log(currentPrice);
        localStorage.setItem('currentPrice', currentPrice)
        localStorage.setItem('count', document.getElementById('prodCount').value);

    }
</script>